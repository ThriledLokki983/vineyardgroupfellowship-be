# Production Environment Configuration for Raspberry Pi Deployment
# ================================================================
# 
# INSTRUCTIONS:
# 1. Copy this file to .env.docker on your Raspberry Pi
# 2. Update all values marked with <CHANGE_THIS>
# 3. NEVER commit .env.docker to Git (it contains secrets!)
#
# Location on Pi: ~/apps/vineyardgroupfellowship/backend/.env.docker

# ============================================================================
# CRITICAL: CHANGE THESE VALUES!
# ============================================================================

# Django Secret Key (REQUIRED)
# Generate with: python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"
SECRET_KEY=<CHANGE_THIS_GENERATE_RANDOM_SECRET_KEY>

# Database Credentials (REQUIRED)
DB_NAME=vineyard_group_fellowship_prod
DB_USER=vineyard_group_fellowship
DB_PASSWORD=<CHANGE_THIS_STRONG_DB_PASSWORD>
DB_HOST=pgbouncer
DB_PORT=5432
# SSL mode: 'disable' (no SSL), 'prefer' (SSL if available), 'require' (SSL required)
# Use 'prefer' for local Docker, 'require' for cloud deployments
DB_SSLMODE=prefer

# Redis Password (REQUIRED)
REDIS_PASSWORD=<CHANGE_THIS_STRONG_REDIS_PASSWORD>
REDIS_URL=redis://:<CHANGE_THIS_STRONG_REDIS_PASSWORD>@redis:6379/1

# ============================================================================
# DJANGO CONFIGURATION
# ============================================================================

# Environment Settings
DJANGO_SETTINGS_MODULE=vineyard_group_fellowship.settings.production
DJANGO_ENVIRONMENT=production
DEBUG=False

# Server Configuration
PORT=8002
SERVER_PORT=8002

# Allowed Hosts (add your domain/IP)
# Format: domain1.com,domain2.com,192.168.1.100
ALLOWED_HOSTS=localhost,127.0.0.1,0.0.0.0,web,<ADD_YOUR_RASPBERRY_PI_IP>,<ADD_YOUR_DOMAIN>

# ============================================================================
# CORS & SECURITY
# ============================================================================

# CORS Configuration (add your frontend URLs)
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000,<ADD_YOUR_FRONTEND_URL>
CSRF_TRUSTED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000,<ADD_YOUR_FRONTEND_URL>

# ============================================================================
# EMAIL CONFIGURATION (Choose one)
# ============================================================================

# Option 1: SendGrid (Recommended for production)
EMAIL_BACKEND=core.email_backends.SendGridWebAPIBackend
SENDGRID_API_KEY=<CHANGE_THIS_YOUR_SENDGRID_API_KEY>
DEFAULT_FROM_EMAIL=Vineyard Group Fellowship <noreply@vineyardgroupfellowship.org>

# Option 2: Console (for testing - prints to logs)
# EMAIL_BACKEND=django.core.mail.backends.console.EmailBackend

# Option 3: SMTP (for other email providers)
# EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
# EMAIL_HOST=smtp.gmail.com
# EMAIL_PORT=587
# EMAIL_USE_TLS=True
# EMAIL_HOST_USER=<your-email@gmail.com>
# EMAIL_HOST_PASSWORD=<your-app-password>

# ============================================================================
# FEATURE FLAGS (Production Settings)
# ============================================================================

USE_MAILHOG=false
ENABLE_DEBUG_TOOLBAR=false
ENABLE_SILK_PROFILING=false

# ============================================================================
# LOGGING & MONITORING
# ============================================================================

LOG_LEVEL=INFO
STRUCTURED_LOGGING=true
MONITORING_SAMPLE_RATE=0.1
ENABLE_PERFORMANCE_MONITORING=true

# ============================================================================
# CELERY CONFIGURATION
# ============================================================================

CELERY_BROKER_URL=redis://:<CHANGE_THIS_STRONG_REDIS_PASSWORD>@redis:6379/0
CELERY_RESULT_BACKEND=redis://:<CHANGE_THIS_STRONG_REDIS_PASSWORD>@redis:6379/0

# ============================================================================
# SENTRY (Optional - for error tracking)
# ============================================================================

# SENTRY_DSN=<your-sentry-dsn-if-using-sentry>
# SENTRY_ENVIRONMENT=production

# ============================================================================
# SOCIAL AUTH (Optional - if using social authentication)
# ============================================================================

# GOOGLE_OAUTH2_CLIENT_ID=<your-google-client-id>
# GOOGLE_OAUTH2_CLIENT_SECRET=<your-google-client-secret>

# ============================================================================
# STORAGE (Optional - if using cloud storage)
# ============================================================================

# AWS_ACCESS_KEY_ID=<your-aws-access-key>
# AWS_SECRET_ACCESS_KEY=<your-aws-secret-key>
# AWS_STORAGE_BUCKET_NAME=<your-bucket-name>
# AWS_S3_REGION_NAME=us-east-1
